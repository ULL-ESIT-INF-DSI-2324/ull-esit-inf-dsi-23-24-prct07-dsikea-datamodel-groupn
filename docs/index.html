<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p07-dsikea</title><meta name="description" content="Documentation for p07-dsikea"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p07-dsikea</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p07-dsikea</h2></div><div class="tsd-panel tsd-typography"><a id="md:práctica-7--modelo-de-datos-de-un-sistema-de-información-que-permite-gestionar-una-tienda-de-muebles" class="tsd-anchor"></a><h1><a href="#md:práctica-7--modelo-de-datos-de-un-sistema-de-información-que-permite-gestionar-una-tienda-de-muebles">PRÁCTICA 7 : Modelo de datos de un sistema de información que permite gestionar una tienda de muebles</a></h1><p><strong>Grupo N</strong>
<em>Nombre y apellidos: <a href="https://github.com/Danixps?tab=repositories," title="Enlace Github">Daniel Bensa Expósito Paz</a></em>
<em>Nombre y apellidos: <a href="https://github.com/ManuelDavidGomezAlonso?tab=repositories," title="Enlace Github">Manuel David Gómez Alonso</a></em>
<em>Nombre y apellidos: <a href="https://github.com/AlejandroJ22?tab=repositories," title="Enlace Github">Alejandro Javier Aguiar Pérez</a></em></p>
<p><em>Asignatura: Desarrollo de Sistemas Informáticos (DSI)</em></p>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct07-dsikea-datamodel-groupn?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct07-dsikea-datamodel-groupn/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct07-dsikea-datamodel-groupn/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct07-dsikea-datamodel-groupn/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<p><a href="https://ull-esit-inf-dsi-2324.github.io/prct07-DSIkea-dataModel/">Enunciado de la práctica 7</a></p>
<p><img src="images/Ikea.png" alt="Imagen Ikea"></p>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><a href="#md:resumen">Resumen</a></li>
<li><a href="#md:apartados">Apartados</a><ul>
<li><a href="#md:planteamiento-del-trabajo">Planteamiento del trabajo</a></li>
<li><a href="#md:la-herramienta-liveshare">La herramienta LiveShare</a></li>
<li><a href="#md:github-actions-y-flujo-de-trabajo-continuo">Github Actions y Flujo de Trabajo Continuo</a></li>
<li><a href="#md:clase-furniture">Clase Furniture</a></li>
<li><a href="#md:subclases-muebles">Subclases muebles</a></li>
<li><a href="#md:clase-stock">Clase Stock</a></li>
<li><a href="#md:inquirer">Inquirer</a></li>
<li><a href="#md:lowdb">Lowdb</a></li>
</ul>
</li>
<li><a href="#md:alternativas">Problemas</a></li>
<li><a href="#md:referencias">Referencias</a></li>
<li><a href="#md:anexos">Anexos</a></li>
</ol>
<a id="md:resumen" class="tsd-anchor"></a><h2><a href="#md:resumen">Resumen</a></h2><p>En esta práctica grupal, se nos ha pedido un programa en TypeScript destinado a gestionar una tienda de muebles llamada DSIkea. El código desarrollado se encuentra alojado en este mismo repositorio de Github. </p>
<p>Algunas de las tareas previas requeridas fueron:</p>
<ul>
<li>La aceptación de la asignación grupal en GitHub Classroom y organización en equipos.</li>
<li>El estudio de los módulos Inquirer.js y Lowdb para la gestión de una línea de comandos interactiva y persistencia de datos respectivamente a través del libro Essential TypeScript, por Adam Freeman.</li>
<li>Configuración de TypeDoc para documentar nuestro código.</li>
<li>Desarrollo de pruebas unitarias para garantizar el correcto funcionamiento de nuestro código y su robustez ante entradas no válidas o inesperadas.</li>
<li>Configuración de las herramientas de cubrimiento de código (Coveralls), integración continua (GitHub Actions) y calidad del código (Sonar Cloud) para mejorar la calidad y fiabilidad de nuestro software.</li>
</ul>
<p>Los requisitos del sistema que se nos exigían fueron:</p>
<ul>
<li>Creación de al menos 20 muebles diferentes.</li>
<li>Implementación de funcionalidades para añadir, borrar y modificar muebles, proveedores y clientes mediante una línea de comandos interactiva. Para ello debíamos usar Inquirer.js para la interacción con el usuario y Lowdb para la persistencia de datos.</li>
<li>Desarrollo de métodos para acceder a la información de estas entidades, permitiendo búsqueda por diferentes criterios y ordenación.</li>
<li>Creación de la clase Stock para gestionar el tratamiento de la información del sistema, incluyendo control de stock, registro de transacciones y generación de informes sobre el stock disponible, ventas, compras y registros históricos de clientes y proveedores.</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:apartados" class="tsd-anchor"></a><h2><a href="#md:apartados">Apartados</a></h2><ul>
<li><a id="md:planteamiento-del-trabajo" class="tsd-anchor"></a><h3><a href="#md:planteamiento-del-trabajo">Planteamiento del trabajo</a></h3></li>
</ul>
<p>Se optó principalmente por crear una clase Furniture que contiene un mapa de muebles, utilizando una interfaz furnitureMap para definir su estructura. Esta clase proporciona métodos para agregar muebles al mapa, obtener un mueble por su identificador y obtener un iterador para recorrer todos los muebles en el mapa.</p>
<p>La interfaz furnitureInterface define la estructura de un mueble, especificando los campos necesarios como ID, nombre, descripción, material, dimensiones y precio. Además, incluye métodos para obtener la información detallada del mueble y su nombre. Está interfaz la deben implementar todos los tipos de muebles, así con ello nos aseguramos de que no haya mueble que no cuente con los atributos básicos y que luego pueda contar con más atributos.</p>
<p>Para representar las dimensiones de un mueble, se utiliza un tipo Dimension que contiene las propiedades de longitud, ancho y altura.</p>
<p>Luego pasamos a crear cada clase de los 20 muebles requeridos, y en los cuales no vamos a profundizar demasiado ya que su estructura es bastante sencilla y la podemos repasar después.</p>
<p>Luego la siguiente decisión importante fue la de como manejar las dos estructuras de datos sobre proveedores y clientes, en principio pensamos en crear dos clases completamente diferentes, pero al ser dos clases que comparían mismos atributos y métodos lo que decidimos fue crear una sola clase de la cual se creen dos instancias (providers y clients). La clase EntityCollection representa una colección de entidades, donde cada entidad tiene un ID único, un nombre, información de contacto y una dirección. Esta clase proporciona métodos para realizar operaciones comunes en la colección de entidades, como encontrar entidades por diferentes campos (nombre, contacto, dirección), agregar nuevas entidades al mapa, obtener todas las entidades del mapa y proporcionar un iterador para recorrer todas las entidades en el mapa. Utiliza un mapa interno para almacenar las entidades, donde la clave es el ID único de la entidad.</p>
<p>Clase EntityCollection:</p>
<pre><code class="language-ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Interfaz que define la estructura de una entidad.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">id</span><span class="hl-0"> - Identificador único de la entidad.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">name</span><span class="hl-0"> - Nombre de la entidad.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">contact</span><span class="hl-0"> - Información de contacto de la entidad.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">direction</span><span class="hl-0"> - Dirección de la entidad.</span><br/><span class="hl-0"> */</span><br/><span class="hl-3">export</span><span class="hl-4"> </span><span class="hl-1">interface</span><span class="hl-4"> </span><span class="hl-5">EntityInterface</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-2">id</span><span class="hl-4">: </span><span class="hl-5">number</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-2">name</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-2">contact</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-2">direction</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Interfaz que representa un mapa de entidades.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">entityMap</span><span class="hl-0"> - Mapa que contiene las entidades.</span><br/><span class="hl-0"> */</span><br/><span class="hl-3">export</span><span class="hl-4"> </span><span class="hl-1">interface</span><span class="hl-4"> </span><span class="hl-5">EntityMap</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4"> </span><span class="hl-1">extends</span><span class="hl-4"> </span><span class="hl-5">EntityInterface</span><span class="hl-4">&gt; {</span><br/><span class="hl-4">  </span><span class="hl-2">entityMap</span><span class="hl-4">: </span><span class="hl-5">Map</span><span class="hl-4">&lt;</span><span class="hl-5">number</span><span class="hl-4">, </span><span class="hl-5">T</span><span class="hl-4">&gt;;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Clase que representa una colección de entidades.</span><br/><span class="hl-0"> */</span><br/><span class="hl-3">export</span><span class="hl-4"> </span><span class="hl-1">class</span><span class="hl-4"> </span><span class="hl-5">EntityCollection</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4"> </span><span class="hl-1">extends</span><span class="hl-4"> </span><span class="hl-5">EntityInterface</span><span class="hl-4">&gt;</span><br/><span class="hl-4">  </span><span class="hl-1">implements</span><span class="hl-4"> </span><span class="hl-5">EntityMap</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4">&gt;, </span><span class="hl-5">Iterable</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4">&gt;</span><br/><span class="hl-4">{</span><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Constructor de la clase EntityCollection.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">entityMap</span><span class="hl-0"> - Mapa que contiene las entidades.</span><br/><span class="hl-0">  */</span><br/><span class="hl-4">  </span><span class="hl-1">constructor</span><span class="hl-4">(</span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">entityMap</span><span class="hl-4">: </span><span class="hl-5">Map</span><span class="hl-4">&lt;</span><span class="hl-5">number</span><span class="hl-4">, </span><span class="hl-5">T</span><span class="hl-4">&gt;) {}</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Encuentra entidades por un campo específico y un valor dado.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">field</span><span class="hl-0"> - Campo por el cual buscar.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">value</span><span class="hl-0"> - Valor a comparar.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array de entidades que coinciden con el campo y valor dados.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">findByField</span><span class="hl-4">(</span><span class="hl-2">field</span><span class="hl-4">: </span><span class="hl-1">keyof</span><span class="hl-4"> </span><span class="hl-5">T</span><span class="hl-4">, </span><span class="hl-2">value</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4"> | </span><span class="hl-5">number</span><span class="hl-4">): </span><span class="hl-5">T</span><span class="hl-4">[] {</span><br/><span class="hl-4">    </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">results</span><span class="hl-4">: </span><span class="hl-5">T</span><span class="hl-4">[] = [];</span><br/><span class="hl-4">    </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">entity</span><span class="hl-4"> </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">entityMap</span><span class="hl-4">.</span><span class="hl-6">values</span><span class="hl-4">()) {</span><br/><span class="hl-4">      </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">fieldValue</span><span class="hl-4"> = </span><span class="hl-2">entity</span><span class="hl-4">[</span><span class="hl-2">field</span><span class="hl-4">];</span><br/><span class="hl-4">      </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-1">typeof</span><span class="hl-4"> </span><span class="hl-2">fieldValue</span><span class="hl-4"> === </span><span class="hl-8">&quot;string&quot;</span><span class="hl-4"> &amp;&amp; </span><span class="hl-1">typeof</span><span class="hl-4"> </span><span class="hl-2">value</span><span class="hl-4"> === </span><span class="hl-8">&quot;string&quot;</span><span class="hl-4">) {</span><br/><span class="hl-4">        </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-2">fieldValue</span><span class="hl-4">.</span><span class="hl-6">includes</span><span class="hl-4">(</span><span class="hl-2">value</span><span class="hl-4">)) {</span><br/><span class="hl-4">          </span><span class="hl-2">results</span><span class="hl-4">.</span><span class="hl-6">push</span><span class="hl-4">(</span><span class="hl-2">entity</span><span class="hl-4">);</span><br/><span class="hl-4">        }</span><br/><span class="hl-4">      } </span><span class="hl-3">else</span><span class="hl-4"> </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-2">fieldValue</span><span class="hl-4"> === </span><span class="hl-2">value</span><span class="hl-4">) {</span><br/><span class="hl-4">        </span><span class="hl-2">results</span><span class="hl-4">.</span><span class="hl-6">push</span><span class="hl-4">(</span><span class="hl-2">entity</span><span class="hl-4">);</span><br/><span class="hl-4">      }</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">results</span><span class="hl-4">;</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Encuentra entidades por nombre.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">name</span><span class="hl-0"> - Nombre a buscar.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array de entidades con el nombre especificado.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">findByName</span><span class="hl-4">(</span><span class="hl-2">name</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">): </span><span class="hl-5">T</span><span class="hl-4">[] {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-6">findByField</span><span class="hl-4">(</span><span class="hl-8">&quot;name&quot;</span><span class="hl-4">, </span><span class="hl-2">name</span><span class="hl-4">);</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Encuentra entidades por contacto.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">contact</span><span class="hl-0"> - Contacto a buscar.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array de entidades con el contacto especificado.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">findByContact</span><span class="hl-4">(</span><span class="hl-2">contact</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">): </span><span class="hl-5">T</span><span class="hl-4">[] {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-6">findByField</span><span class="hl-4">(</span><span class="hl-8">&quot;contact&quot;</span><span class="hl-4">, </span><span class="hl-2">contact</span><span class="hl-4">);</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Encuentra entidades por dirección.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">direction</span><span class="hl-0"> - Dirección a buscar.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array de entidades con la dirección especificada.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">findByDirection</span><span class="hl-4">(</span><span class="hl-2">direction</span><span class="hl-4">: </span><span class="hl-5">string</span><span class="hl-4">): </span><span class="hl-5">T</span><span class="hl-4">[] {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-6">findByField</span><span class="hl-4">(</span><span class="hl-8">&quot;direction&quot;</span><span class="hl-4">, </span><span class="hl-2">direction</span><span class="hl-4">);</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método de iteración para la clase EntityCollection.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un iterador de las entidades en el mapa.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  [</span><span class="hl-2">Symbol</span><span class="hl-4">.</span><span class="hl-2">iterator</span><span class="hl-4">](): </span><span class="hl-5">IterableIterator</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4">&gt; {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">entityMap</span><span class="hl-4">.</span><span class="hl-6">values</span><span class="hl-4">();</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Añade una entidad al mapa.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">entity</span><span class="hl-0"> - La entidad a añadir.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">add</span><span class="hl-4">(</span><span class="hl-2">entity</span><span class="hl-4">: </span><span class="hl-5">T</span><span class="hl-4">): </span><span class="hl-5">void</span><span class="hl-4"> {</span><br/><span class="hl-4">    </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">entityMap</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">entity</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">entity</span><span class="hl-4">);</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Obtiene todas las entidades del mapa.</span><br/><span class="hl-0">   * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array de todas las entidades en el mapa.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">getAll</span><span class="hl-4">() {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">Array</span><span class="hl-4">.</span><span class="hl-6">from</span><span class="hl-4">(</span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">entityMap</span><span class="hl-4">.</span><span class="hl-6">values</span><span class="hl-4">());</span><br/><span class="hl-4">  }</span><br/><span class="hl-4">}</span>
</code><button>Copy</button></pre>
<p>Respecto a la clase Stock definimos una clase que gestiona el inventario y las transacciones de una tienda de muebles, permitiendo agregar productos, registrar ventas y compras, y obtener información sobre el inventario y las transacciones.</p>
<p>A su vez cada vez que se realiza la operación de compra o de venta se hace una facturación simple que se manifiesta en formato de la clase Transaction:</p>
<pre><code class="language-ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Definimos un tipo para representar los tipos de transacción.</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">type</span><span class="hl-4"> </span><span class="hl-5">TransactionType</span><span class="hl-4"> = </span><span class="hl-8">&quot;Venta&quot;</span><span class="hl-4"> | </span><span class="hl-8">&quot;Compra&quot;</span><span class="hl-4">;</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Clase para representar una transacción.</span><br/><span class="hl-0"> */</span><br/><span class="hl-3">export</span><span class="hl-4"> </span><span class="hl-1">class</span><span class="hl-4"> </span><span class="hl-5">Transaction</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4"> </span><span class="hl-1">extends</span><span class="hl-4"> </span><span class="hl-5">furnitureInterface</span><span class="hl-4">&gt; {</span><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">entity</span><span class="hl-0"> - La entidad relacionada con la transacción (cliente/proveedor).</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">type</span><span class="hl-0"> - El tipo de transacción (Venta/Compra).</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">date</span><span class="hl-0"> - La fecha de la transacción.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">furnitures</span><span class="hl-0"> - Los muebles involucrados en la transacción.</span><br/><span class="hl-0">   * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">total</span><span class="hl-0"> - El importe total de la transacción.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-1">constructor</span><span class="hl-4">(</span><br/><span class="hl-4">    </span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">entity</span><span class="hl-4">: </span><span class="hl-5">EntityInterface</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">type</span><span class="hl-4">: </span><span class="hl-5">TransactionType</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">date</span><span class="hl-4">: </span><span class="hl-5">Date</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">furnitures</span><span class="hl-4">: </span><span class="hl-5">Furniture</span><span class="hl-4">&lt;</span><span class="hl-5">T</span><span class="hl-4">&gt;,</span><br/><span class="hl-4">    </span><span class="hl-1">public</span><span class="hl-4"> </span><span class="hl-2">total</span><span class="hl-4">: </span><span class="hl-5">number</span><span class="hl-4">,</span><br/><span class="hl-4">  ) {}</span><br/><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Método para mostrar la información de la transacción por consola.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-6">displayInfo</span><span class="hl-4">() {</span><br/><span class="hl-4">    </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">`Entidad: </span><span class="hl-1">${</span><span class="hl-1">this</span><span class="hl-9">.</span><span class="hl-2">entity</span><span class="hl-9">.</span><span class="hl-2">name</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">`Tipo de transacción: </span><span class="hl-1">${</span><span class="hl-1">this</span><span class="hl-9">.</span><span class="hl-2">type</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">`Fecha: </span><span class="hl-1">${</span><span class="hl-1">this</span><span class="hl-9">.</span><span class="hl-2">date</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">&quot;Muebles involucrados:&quot;</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">counter</span><span class="hl-4">: </span><span class="hl-5">number</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">    </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">furniture</span><span class="hl-4"> </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">furnitures</span><span class="hl-4">) {</span><br/><span class="hl-4">      </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">`  </span><span class="hl-1">${</span><span class="hl-4">++</span><span class="hl-2">counter</span><span class="hl-1">}</span><span class="hl-8">. </span><span class="hl-1">${</span><span class="hl-2">furniture</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">);</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">    </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">`Importe total: </span><span class="hl-1">${</span><span class="hl-1">this</span><span class="hl-9">.</span><span class="hl-2">total</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">);</span><br/><span class="hl-4">  }</span><br/><span class="hl-4">}</span>
</code><button>Copy</button></pre>
<p>Tanto el menú como la base de datos se describiran con mayor detalle posteriormente.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:la-herramienta-liveshare" class="tsd-anchor"></a><h3><a href="#md:la-herramienta-liveshare">La herramienta LiveShare</a></h3></li>
</ul>
<p>Este trabajo es el primero que realizamos de forma grupal en esta asignatura, así que necesitabamos una manera de poder trabajar todos al mismo tiempo, en eso se resume la importancia que tuvó para nosostros la herramienta LiveShare para nuestro programa. Ya en la asignatura se había contemplado el uso de LiveShare aunque esta es la primera vez que lo usamos de manera seria. Gracias al uso de esta herramienta junto con GitHub conseguimos poder implementar una forma de trabajar de la forma más cómoda posible sin retrasos. La única pega que podríamos tener del uso de esta herramienta es que solo una persona es la que puede compliar o ejecutar en terminal (ya que esto se hace por seguridad) e incluso tener acceso a diferentes directorios como lo es el directorio donde se ejecuta el programa /dist.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:github-actions-y-flujo-de-trabajo-continuo" class="tsd-anchor"></a><h3><a href="#md:github-actions-y-flujo-de-trabajo-continuo">Github Actions y Flujo de Trabajo Continuo</a></h3></li>
</ul>
<p>Desde hace unas semana hemos ido repasando en clase como se puede mejorar 
la calidad del desarrollo de software mediante la implementación de GitHub Actions y un flujo de trabajo continuo. En este contexto, se ha diseñado un flujo de trabajo en GitHub Actions para automatizar diversas tareas, como la ejecución de pruebas automatizadas, la generación de informes de cobertura de código y la ejecución de análisis estático del código utilizando herramientas como SonarCloud, que es una plataforma en la nube que proporciona análisis estático de código para mejorar la calidad y seguridad del software. Ofrece diversas herramientas de inspección de código que identifican problemas, bugs, vulnerabilidades y áreas de mejora en el código fuente. Este flujo de trabajo garantiza que el código desarrollado cumpla con los estándares de calidad definidos y que cualquier cambio realizado en el repositorio sea sometido a una serie de pruebas automáticas antes de ser fusionado en la rama principal.</p>
<p>Además, se ha establecido una integración continua para garantizar que el código se construya correctamente en cada confirmación y que se despliegue en un entorno de prueba para su evaluación. Esto permite detectar y corregir rápidamente posibles problemas de integración, así como validar nuevas funcionalidades antes de su implementación en producción. Mediante el uso de GitHub Actions, se ha logrado automatizar gran parte del proceso de desarrollo y despliegue de software, lo que contribuye a una mayor eficiencia y confiabilidad en el desarrollo de la aplicación DSIkea.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:clase-furniture" class="tsd-anchor"></a><h3><a href="#md:clase-furniture">Clase Furniture</a></h3></li>
</ul>
<p>Ya hemos hablado anteriormente de la clase Furniture aunque podemos profundizar aún más sobre esta clase. Furniture es en pocas palabras un catalogo que se construye con un id asociado a un mueble en la estructura de datos Map. Además la clase al basarse en un, Map al fin y al cabo, hemos decidido implementar la interfaz Iterable<T>, lo que permite recorrer los muebles contenidos en el mapa, estamos hablando de una clase que es iterable. Poco más que decir al respecto con Furniture:</p>
<ul>
<li>Implementa una manera de añadir muebles a la clase:</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Agrega un mueble al mapa.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">id</span><span class="hl-0"> - Identificador del mueble.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">furniture</span><span class="hl-0"> - Mueble a agregar.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">furnitureAdd</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">, </span><span class="hl-2">furniture</span><span class="hl-4">: </span><span class="hl-7">T</span><span class="hl-4">): </span><span class="hl-1">void</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">furnitureMap</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">furniture</span><span class="hl-4">);</span><br/><span class="hl-4">}</span>
</code><button>Copy</button></pre>
<ul>
<li>Implementa una manera de buscar muebles en la clase por su ID:</li>
</ul>
<pre><code class="language-ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Obtiene un mueble por su identificador.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">id</span><span class="hl-0"> - Identificador del mueble.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> El mueble correspondiente al identificador, si existe; de lo contrario, undefined.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getFurniture</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">): </span><span class="hl-2">furnitureInterface</span><span class="hl-4"> | </span><span class="hl-1">undefined</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">furnitureMap</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">) === </span><span class="hl-1">undefined</span><span class="hl-4">) {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">undefined</span><span class="hl-4">;</span><br/><span class="hl-4">  } </span><span class="hl-3">else</span><span class="hl-4"> {</span><br/><span class="hl-4">    </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-6">getKey</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">); </span><br/><span class="hl-4">  }</span><br/><span class="hl-4">}</span>
</code><button>Copy</button></pre>
<p>Esta clase guarda muebles de diferentes tipos, todos los definidos en /furnitures y que implementan la interfaz de muebles, furnitureInterface.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:clase-stock" class="tsd-anchor"></a><h3><a href="#md:clase-stock">Clase Stock</a></h3></li>
</ul>
<p>La clase Stock se encarga de gestionar el inventario de muebles y las transacciones relacionadas en una tienda de muebles. Está compuesta por varios atributos, como inventory para almacenar la cantidad de cada mueble en el inventario, catalogue para la colección de muebles disponibles, transactions para almacenar las transacciones realizadas, clients para la colección de clientes y providers para la colección de proveedores.</p>
<p>Los métodos principales de esta clase son los siguientes que ya vienen comentados por lo cuál no creemos que haga falta explicarlos en profundidad:</p>
<pre><code class="language-ts"><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para agregar productos al catálogo e inventario.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">product</span><span class="hl-0"> - Mueble a agregar.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">quantity</span><span class="hl-0"> - Cantidad del mueble a agregar.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">addProduct</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">: </span><span class="hl-2">furnitureInterface</span><span class="hl-4">, </span><span class="hl-2">quantity</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">): </span><span class="hl-1">void</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">catalogue</span><span class="hl-4">.</span><span class="hl-6">furnitureAdd</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">product</span><span class="hl-4">);</span><br/><span class="hl-4">  </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">currentQuantity</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">) || </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">currentQuantity</span><span class="hl-4"> + </span><span class="hl-2">quantity</span><span class="hl-4">);</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para vender una cantidad de productos a un cliente.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">client</span><span class="hl-0"> - Cliente al que se vende.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">products</span><span class="hl-0"> - Muebles a vender.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> La transacción de venta si se realiza con éxito; de lo contrario, undefined.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">sellProduct</span><span class="hl-4">(</span><br/><span class="hl-4">  </span><span class="hl-2">client</span><span class="hl-4">: </span><span class="hl-2">EntityInterface</span><span class="hl-4">,</span><br/><span class="hl-4">  </span><span class="hl-2">products</span><span class="hl-4">: </span><span class="hl-2">Furniture</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt;,</span><br/><span class="hl-4">): </span><span class="hl-2">Transaction</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt; | </span><span class="hl-1">undefined</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">total</span><span class="hl-4">: </span><span class="hl-5">number</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-2">products</span><span class="hl-4"> &amp;&amp; </span><span class="hl-1">typeof</span><span class="hl-4"> </span><span class="hl-2">products</span><span class="hl-4">[</span><span class="hl-2">Symbol</span><span class="hl-4">.</span><span class="hl-2">iterator</span><span class="hl-4">] === </span><span class="hl-8">&#39;function&#39;</span><span class="hl-4">) {</span><br/><span class="hl-4">  </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">product</span><span class="hl-4"> </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-2">products</span><span class="hl-4">) {</span><br/><span class="hl-4">    </span><span class="hl-0">// Por cada producto que se quiera vender, comprobar la existencia y restar la cantidad si es posible.</span><br/><span class="hl-4">    </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">currentQuantity</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">) || </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">    </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-2">currentQuantity</span><span class="hl-4"> &lt; </span><span class="hl-10">1</span><span class="hl-4">) {</span><br/><span class="hl-4">      </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><br/><span class="hl-4">        </span><span class="hl-8">`No hay suficiente stock de las unidades de </span><span class="hl-1">${</span><span class="hl-2">product</span><span class="hl-9">.</span><span class="hl-2">name</span><span class="hl-1">}</span><span class="hl-8">`</span><span class="hl-4">,</span><br/><span class="hl-4">      );</span><br/><span class="hl-4">      </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">undefined</span><span class="hl-4">;</span><br/><span class="hl-4">    }</span><br/><br/><span class="hl-4">    </span><span class="hl-0">// Actualizar la cantidad en el inventario</span><br/><span class="hl-4">    </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">currentQuantity</span><span class="hl-4"> - </span><span class="hl-10">1</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-2">total</span><span class="hl-4"> += </span><span class="hl-2">product</span><span class="hl-4">.</span><span class="hl-2">price</span><span class="hl-4">;</span><br/><span class="hl-4">  }</span><br/><span class="hl-4">} </span><span class="hl-3">else</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">error</span><span class="hl-4">(</span><span class="hl-8">&#39;products is not iterable&#39;</span><span class="hl-4">);</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-4">  </span><span class="hl-0">// Crear la transacción de venta</span><br/><span class="hl-4">  </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">saleTransaction</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Transaction</span><span class="hl-4">(</span><br/><span class="hl-4">    </span><span class="hl-2">client</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-8">&quot;Venta&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Date</span><span class="hl-4">(),</span><br/><span class="hl-4">    </span><span class="hl-2">products</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-2">total</span><span class="hl-4">,</span><br/><span class="hl-4">  );</span><br/><span class="hl-4">  </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">clients</span><span class="hl-4">.</span><span class="hl-2">entityMap</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">client</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4">, </span><span class="hl-2">client</span><span class="hl-4">);</span><br/><span class="hl-4">  </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">.</span><span class="hl-6">push</span><span class="hl-4">(</span><span class="hl-2">saleTransaction</span><span class="hl-4">);</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">saleTransaction</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para registrar una compra a un proveedor.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">provider</span><span class="hl-0"> - Proveedor al que se compra.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">products</span><span class="hl-0"> - Muebles comprados.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">totalPrice</span><span class="hl-0"> - Precio total de la compra.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> La transacción de compra.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">purchaseProduct</span><span class="hl-4">(</span><br/><span class="hl-4">  </span><span class="hl-2">provider</span><span class="hl-4">: </span><span class="hl-2">EntityInterface</span><span class="hl-4">,</span><br/><span class="hl-4">  </span><span class="hl-2">products</span><span class="hl-4">: </span><span class="hl-2">Furniture</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt;,</span><br/><span class="hl-4">  </span><span class="hl-2">totalPrice</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">,</span><br/><span class="hl-4">): </span><span class="hl-2">Transaction</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt; {</span><br/><span class="hl-4">console.log(</span><span class="hl-8">&#39;products:&#39;</span><span class="hl-4">, products);</span><br/><span class="hl-4">console.log(</span><span class="hl-8">&#39;products.furnitureMap:&#39;</span><span class="hl-4">, products.furnitureMap);</span><br/><span class="hl-4">    </span><span class="hl-0">// for (const product of products.furnitureMap.forEach</span><br/><span class="hl-4">    </span><span class="hl-0">//     let currentQuantity = this.inventory.get(product.id) || 0;</span><br/><span class="hl-4">    </span><span class="hl-0">//     this.inventory.set(product.id, ++currentQuantity);</span><br/><span class="hl-4">    </span><span class="hl-0">// } //error aqui</span><br/><span class="hl-4">    const </span><span class="hl-2">furnitureMap</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Map</span><span class="hl-4">();</span><br/><span class="hl-4">    furnitureMap.set(</span><span class="hl-10">1</span><span class="hl-4">, { </span><span class="hl-11">productName</span><span class="hl-4">: </span><span class="hl-8">&#39;papas&#39;</span><span class="hl-4">, </span><span class="hl-11">productDescription</span><span class="hl-4">: </span><span class="hl-8">&#39;lays&#39;</span><span class="hl-4"> });</span><br/><span class="hl-4">    let </span><span class="hl-2">products1</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Furniture</span><span class="hl-4">(</span><span class="hl-2">furnitureMap</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><br/><span class="hl-4">    </span><span class="hl-6">for</span><span class="hl-4"> (</span><span class="hl-2">const</span><span class="hl-4"> [</span><span class="hl-2">key</span><span class="hl-4">, </span><span class="hl-2">value</span><span class="hl-4">] </span><span class="hl-2">of</span><span class="hl-4"> products1.furnitureMap.entries()) {</span><br/><span class="hl-4">      </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">currentQuantity</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-2">key</span><span class="hl-4">) || </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-2">key</span><span class="hl-4">, ++</span><span class="hl-2">currentQuantity</span><span class="hl-4">);</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">    console.log(</span><span class="hl-8">&#39;this.inventory:&#39;</span><span class="hl-4">, this.inventory);</span><br/><span class="hl-4">  const </span><span class="hl-2">purchaseTransaction</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Transaction</span><span class="hl-4">(</span><br/><span class="hl-4">    </span><span class="hl-2">provider</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-8">&quot;Compra&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Date</span><span class="hl-4">(),</span><br/><span class="hl-4">    </span><span class="hl-2">products</span><span class="hl-4">,</span><br/><span class="hl-4">    </span><span class="hl-2">totalPrice</span><span class="hl-4">,</span><br/><span class="hl-4">  );</span><br/><br/><span class="hl-4">  this.transactions.push(purchaseTransaction);</span><br/><span class="hl-4">  console.log(</span><span class="hl-8">&#39;this.transactions:&#39;</span><span class="hl-4">, this.transactions);</span><br/><span class="hl-4">  return purchaseTransaction;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener el stock disponible de un mueble específico.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">furnitureId</span><span class="hl-0"> - ID del mueble.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> La cantidad disponible en el inventario del mueble especificado.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getStockForFurniture</span><span class="hl-4">(</span><span class="hl-2">furnitureId</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">): </span><span class="hl-2">number</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-2">furnitureId</span><span class="hl-4">) || </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener el mueble más vendido.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> El mueble más vendido, o undefined si no hay ventas.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getMostSoldFurniture</span><span class="hl-4">(): </span><span class="hl-2">furnitureInterface</span><span class="hl-4"> | </span><span class="hl-1">undefined</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">mostSoldFurniture</span><span class="hl-4">: </span><span class="hl-5">furnitureInterface</span><span class="hl-4"> | </span><span class="hl-5">undefined</span><span class="hl-4"> = </span><span class="hl-1">undefined</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">maxQuantitySold</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><br/><span class="hl-4">  </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> [</span><span class="hl-7">id</span><span class="hl-4">, </span><span class="hl-7">quantity</span><span class="hl-4">] </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">.</span><span class="hl-6">entries</span><span class="hl-4">()) {</span><br/><span class="hl-4">    </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">furniture</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">catalogue</span><span class="hl-4">.</span><span class="hl-6">getFurniture</span><span class="hl-4">(</span><span class="hl-2">id</span><span class="hl-4">);</span><br/><span class="hl-4">    </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-2">furniture</span><span class="hl-4"> &amp;&amp; </span><span class="hl-2">quantity</span><span class="hl-4"> &gt; </span><span class="hl-2">maxQuantitySold</span><span class="hl-4">) {</span><br/><span class="hl-4">      </span><span class="hl-2">maxQuantitySold</span><span class="hl-4"> = </span><span class="hl-2">quantity</span><span class="hl-4">;</span><br/><span class="hl-4">      </span><span class="hl-2">mostSoldFurniture</span><span class="hl-4"> = </span><span class="hl-2">furniture</span><span class="hl-4">;</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">  }</span><br/><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">mostSoldFurniture</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener la facturación total por ventas a clientes en un periodo de tiempo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">startDate</span><span class="hl-0"> - Fecha de inicio del periodo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">endDate</span><span class="hl-0"> - Fecha de fin del periodo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> La facturación total por ventas en el periodo especificado.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getRevenueForClientSales</span><span class="hl-4">(</span><span class="hl-2">startDate</span><span class="hl-4">: </span><span class="hl-2">Date</span><span class="hl-4">, </span><span class="hl-2">endDate</span><span class="hl-4">: </span><span class="hl-2">Date</span><span class="hl-4">): </span><span class="hl-2">number</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">totalRevenue</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">transaction</span><span class="hl-4"> </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">) {</span><br/><span class="hl-4">    </span><span class="hl-3">if</span><span class="hl-4"> (</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">type</span><span class="hl-4"> === </span><span class="hl-8">&quot;Venta&quot;</span><span class="hl-4"> &amp;&amp;</span><br/><span class="hl-4">      </span><span class="hl-2">startDate</span><span class="hl-4"> &lt;= </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">date</span><span class="hl-4"> &amp;&amp;</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">date</span><span class="hl-4"> &lt;= </span><span class="hl-2">endDate</span><br/><span class="hl-4">    ) {</span><br/><span class="hl-4">      </span><span class="hl-2">totalRevenue</span><span class="hl-4"> += </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">total</span><span class="hl-4">;</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">  }</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">totalRevenue</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener el gasto total por compras a proveedores en un periodo de tiempo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">startDate</span><span class="hl-0"> - Fecha de inicio del periodo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">endDate</span><span class="hl-0"> - Fecha de fin del periodo.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> El gasto total por compras a proveedores en el periodo especificado.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getExpenseForProviderPurchases</span><span class="hl-4">(</span><span class="hl-2">startDate</span><span class="hl-4">: </span><span class="hl-2">Date</span><span class="hl-4">, </span><span class="hl-2">endDate</span><span class="hl-4">: </span><span class="hl-2">Date</span><span class="hl-4">): </span><span class="hl-2">number</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">let</span><span class="hl-4"> </span><span class="hl-2">totalExpense</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-3">for</span><span class="hl-4"> (</span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">transaction</span><span class="hl-4"> </span><span class="hl-1">of</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">) {</span><br/><span class="hl-4">    </span><span class="hl-3">if</span><span class="hl-4"> (</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">type</span><span class="hl-4"> === </span><span class="hl-8">&quot;Compra&quot;</span><span class="hl-4"> &amp;&amp;</span><br/><span class="hl-4">      </span><span class="hl-2">startDate</span><span class="hl-4"> &lt;= </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">date</span><span class="hl-4"> &amp;&amp;</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">date</span><span class="hl-4"> &lt;= </span><span class="hl-2">endDate</span><br/><span class="hl-4">    ) {</span><br/><span class="hl-4">      </span><span class="hl-2">totalExpense</span><span class="hl-4"> += </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">total</span><span class="hl-4">;</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">  }</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-2">totalExpense</span><span class="hl-4">;</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener el histórico de ventas de un cliente específico.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">clientId</span><span class="hl-0"> - ID del cliente.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array con las transacciones de venta del cliente especificado.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getSalesHistoryForClient</span><span class="hl-4">(</span><br/><span class="hl-4">  </span><span class="hl-2">clientId</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">,</span><br/><span class="hl-4">): </span><span class="hl-2">Transaction</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt;[] {</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">.</span><span class="hl-6">filter</span><span class="hl-4">(</span><br/><span class="hl-4">    (</span><span class="hl-2">transaction</span><span class="hl-4">) </span><span class="hl-1">=&gt;</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">type</span><span class="hl-4"> === </span><span class="hl-8">&quot;Venta&quot;</span><span class="hl-4"> &amp;&amp; </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">entity</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4"> === </span><span class="hl-2">clientId</span><span class="hl-4">,</span><br/><span class="hl-4">  );</span><br/><span class="hl-4">}</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * Método para obtener el histórico de compras a un proveedor específico.</span><br/><span class="hl-0"> * </span><span class="hl-1">@param</span><span class="hl-0"> </span><span class="hl-2">providerId</span><span class="hl-0"> - ID del proveedor.</span><br/><span class="hl-0"> * </span><span class="hl-1">@returns</span><span class="hl-0"> Un array con las transacciones de compra al proveedor especificado.</span><br/><span class="hl-0"> */</span><br/><span class="hl-6">getPurchasesHistoryForProvider</span><span class="hl-4">(</span><br/><span class="hl-4">  </span><span class="hl-2">providerId</span><span class="hl-4">: </span><span class="hl-2">number</span><span class="hl-4">,</span><br/><span class="hl-4">): </span><span class="hl-2">Transaction</span><span class="hl-4">&lt;</span><span class="hl-2">furnitureInterface</span><span class="hl-4">&gt;[] {</span><br/><span class="hl-4">  </span><span class="hl-3">return</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">.</span><span class="hl-6">filter</span><span class="hl-4">(</span><br/><span class="hl-4">    (</span><span class="hl-2">transaction</span><span class="hl-4">) </span><span class="hl-1">=&gt;</span><br/><span class="hl-4">      </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">type</span><span class="hl-4"> === </span><span class="hl-8">&quot;Compra&quot;</span><span class="hl-4"> &amp;&amp; </span><span class="hl-2">transaction</span><span class="hl-4">.</span><span class="hl-2">entity</span><span class="hl-4">.</span><span class="hl-2">id</span><span class="hl-4"> === </span><span class="hl-2">providerId</span><span class="hl-4">,</span><br/><span class="hl-4">  );</span><br/><span class="hl-4">}</span>
</code><button>Copy</button></pre>
<p>Estos métodos permiten realizar operaciones clave para el manejo eficiente del inventario y las transacciones en la tienda de muebles, así como obtener diferentes informes sobre las transacciones.</p>
<p>Lo único que no hemos sido capaces de implementar ha sido la creación de un método capaz de buscar muebles según el tipo que se requiera, ya que para esto nuestra clase debe ser capaz de diferenciar entre distintas clases de muebles, en concreto 20, pensamos que esto se puede implementar usando &quot;instance of&quot;, pero claro de esa manera para diferenciar 20 clases necesitaríamos 20 bloque de &quot;if&quot; lo cuál no nos parece la mejor forma de hacerlo.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:inquirer" class="tsd-anchor"></a><h3><a href="#md:inquirer">Inquirer</a></h3></li>
</ul>
<p>Inquirer es una biblioteca de Node.js que facilita la creación de interfaces de línea de comandos interactivas. Permite a los desarrolladores crear preguntas, opciones y solicitudes de entrada de manera sencilla para interactuar con los usuarios en la terminal. Inquirer ofrece una amplia gama de tipos de preguntas y opciones de personalización, lo que la convierte en una herramienta popular para la creación de interfaces de usuario en aplicaciones de línea de comandos.</p>
<p>Es bastante sencillo de utilizar, simplemente se deberán utilizar las funciones que implementa para ello.</p>
<ul>
<li><em>prompt()</em>: Sirve para preguntar al usuario.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-4">    </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">answer</span><span class="hl-4"> = </span><span class="hl-3">await</span><span class="hl-4"> </span><span class="hl-2">inquirer</span><span class="hl-4">.</span><span class="hl-6">prompt</span><span class="hl-4">({</span><br/><span class="hl-4">        </span><span class="hl-2">type:</span><span class="hl-4"> </span><span class="hl-8">&quot;list&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">name:</span><span class="hl-4"> </span><span class="hl-8">&quot;option&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">message:</span><span class="hl-4"> </span><span class="hl-8">&quot;Selecciona una opción:&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">choices:</span><span class="hl-4"> [</span><br/><span class="hl-4">            </span><span class="hl-8">&quot;Gestionar Muebles&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">            </span><span class="hl-8">&quot;Gestionar Proveedores&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">            </span><span class="hl-8">&quot;Gestionar Clientes&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">            </span><span class="hl-8">&quot;Salir&quot;</span><span class="hl-4">,</span><br/><span class="hl-4">        ],</span><br/><span class="hl-4">    });</span>
</code><button>Copy</button></pre>
<p><em>Ese <strong>await</strong> antes del <strong>inquirer.prompt</strong> nos dice hara que la función se ejecute después de que se cumpla una promesa, el <strong>await</strong> se utiliza en funciones asíncronas que se establecen con la palabra reservada <strong>async</strong></em></p>
<pre><code class="language-typescript"><span class="hl-4">    </span><span class="hl-3">switch</span><span class="hl-4"> (</span><span class="hl-2">answer</span><span class="hl-4">.</span><span class="hl-2">option</span><span class="hl-4">) {</span><br/><span class="hl-4">    </span><span class="hl-3">case</span><span class="hl-4"> </span><span class="hl-8">&quot;Gestionar Muebles&quot;</span><span class="hl-4">:</span><br/><span class="hl-4">        </span><span class="hl-3">await</span><span class="hl-4"> </span><span class="hl-6">manageFurniture</span><span class="hl-4">();</span><br/><span class="hl-4">        </span><span class="hl-3">break</span><span class="hl-4">;</span><br/><span class="hl-4">    </span><span class="hl-3">case</span><span class="hl-4"> </span><span class="hl-8">&quot;Gestionar Proveedores&quot;</span><span class="hl-4">:</span><br/><span class="hl-4">        </span><span class="hl-3">await</span><span class="hl-4"> </span><span class="hl-6">manageProviders</span><span class="hl-4">();</span><br/><span class="hl-4">        </span><span class="hl-3">break</span><span class="hl-4">;</span><br/><span class="hl-4">    </span><span class="hl-3">case</span><span class="hl-4"> </span><span class="hl-8">&quot;Gestionar Clientes&quot;</span><span class="hl-4">:</span><br/><span class="hl-4">        </span><span class="hl-3">await</span><span class="hl-4"> </span><span class="hl-6">manageClients</span><span class="hl-4">();</span><br/><span class="hl-4">        </span><span class="hl-3">break</span><span class="hl-4">;</span><br/><span class="hl-4">    </span><span class="hl-3">case</span><span class="hl-4"> </span><span class="hl-8">&quot;Salir&quot;</span><span class="hl-4">:</span><br/><span class="hl-4">        </span><span class="hl-2">console</span><span class="hl-4">.</span><span class="hl-6">log</span><span class="hl-4">(</span><span class="hl-8">&quot;¡Hasta luego!&quot;</span><span class="hl-4">);</span><br/><span class="hl-4">        </span><span class="hl-2">process</span><span class="hl-4">.</span><span class="hl-6">exit</span><span class="hl-4">();</span><br/><span class="hl-4">    </span><span class="hl-3">break</span><span class="hl-4">;</span><br/><span class="hl-4">    }</span>
</code><button>Copy</button></pre>
<p><em>De la manera anterior manejaremos el funcionamiento de según que elección del usuario.</em>   </p>
<p>Disponemos de más funciones pero no hemos visto necesaria ninguna más, alguna de ellas son las siguientes:</p>
<ul>
<li><strong>registerPrompt():</strong> Permite registrar nuevos tipos de prompts personalizados para extender las capacidades de Inquirer.</li>
<li><strong>Separator():</strong> Se utiliza para agregar separadores entre las preguntas para una mejor organización visual en la interfaz de línea de comandos.</li>
<li><strong>createPromptModule():</strong> Permite crear un módulo personalizado de Inquirer con opciones preconfiguradas para reutilizar en diferentes partes de la aplicación.</li>
<li><strong>prompt.prompts:</strong> Un objeto que contiene los tipos de prompts disponibles, como input, confirm, list, etc. Este objeto se puede utilizar para acceder y personalizar los tipos de prompts predeterminados.</li>
<li><strong>prompt.override:</strong> Se utiliza para anular las opciones predeterminadas de un prompt específico, como el mensaje, las opciones de selección, etc.</li>
<li><strong>prompt.registerPrompt():</strong> Permite registrar nuevos tipos de prompts a nivel global para usarlos en toda la aplicación.</li>
<li><strong>prompt.ui:</strong> Un objeto que representa la interfaz de usuario de Inquirer. Se utiliza para iniciar y finalizar la interfaz, así como para manejar eventos y entradas del usuario.</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<ul>
<li><a id="md:lowdb" class="tsd-anchor"></a><h3><a href="#md:lowdb">Lowdb</a></h3></li>
</ul>
<p>lowdb es una biblioteca de base de datos escrita enteramente en JavaScript y que opera sobre archivos JSON. Es una solución liviana y simple para almacenar datos en aplicaciones <strong>Node.js</strong> y del lado del cliente. Está diseñada para <em>aplicaciones pequeñas a medianas que no requieren una base de datos completa</em>, como SQLite o MongoDB.</p>
<pre><code class="language-typescript"><span class="hl-3">export</span><span class="hl-4"> </span><span class="hl-1">class</span><span class="hl-4"> </span><span class="hl-5">JsonStock</span><span class="hl-4"> </span><span class="hl-1">extends</span><span class="hl-4"> </span><span class="hl-5">Stock</span><span class="hl-4"> {</span><br/><span class="hl-4">  </span><span class="hl-1">private</span><span class="hl-4"> </span><span class="hl-2">database</span><span class="hl-4">: </span><span class="hl-5">lowdb</span><span class="hl-4">.</span><span class="hl-5">LowdbSync</span><span class="hl-4">&lt;</span><span class="hl-5">SchemaType</span><span class="hl-4">&gt;;</span><br/><span class="hl-4">  </span><span class="hl-1">private</span><span class="hl-4"> </span><span class="hl-2">nextId</span><span class="hl-4">: </span><span class="hl-5">number</span><span class="hl-4"> = </span><span class="hl-10">0</span><span class="hl-4">;</span><br/><span class="hl-4">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * Constructor de la clase JsonStock.</span><br/><span class="hl-0">   * Inicializa la base de datos y carga los datos si existen.</span><br/><span class="hl-0">   */</span><br/><span class="hl-4">  </span><span class="hl-1">constructor</span><span class="hl-4">() {</span><br/><span class="hl-4">    </span><span class="hl-1">super</span><span class="hl-4">();</span><br/><span class="hl-4">    </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4"> = </span><span class="hl-6">lowdb</span><span class="hl-4">(</span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">FileSync</span><span class="hl-4">(</span><span class="hl-8">&quot;Stock.json&quot;</span><span class="hl-4">));</span><br/><span class="hl-4">    </span><span class="hl-3">if</span><span class="hl-4"> (</span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">has</span><span class="hl-4">(</span><span class="hl-8">&quot;inventory&quot;</span><span class="hl-4">).</span><span class="hl-6">value</span><span class="hl-4">()) {</span><br/><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-8">&quot;inventory&quot;</span><span class="hl-4">).</span><span class="hl-6">value</span><span class="hl-4">();</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-8">&quot;trans&quot;</span><span class="hl-4">).</span><span class="hl-6">value</span><span class="hl-4">();</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">clients</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-8">&quot;clients&quot;</span><span class="hl-4">).</span><span class="hl-6">value</span><span class="hl-4">();</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">providers</span><span class="hl-4"> = </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">get</span><span class="hl-4">(</span><span class="hl-8">&quot;providers&quot;</span><span class="hl-4">).</span><span class="hl-6">value</span><span class="hl-4">();</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">catalogue</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Furniture</span><span class="hl-4">(</span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Map</span><span class="hl-4">());</span><br/><span class="hl-4">      </span><span class="hl-0">//¡this.catalogue = this.database.get(&quot;furniture&quot;).value();</span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4"> = </span><span class="hl-1">new</span><span class="hl-4"> </span><span class="hl-6">Map</span><span class="hl-4">(); </span><span class="hl-0">// Asegúrate de que esto es correcto para tu caso</span><br/><span class="hl-4">      </span><span class="hl-0">// this.catalogue = this.database.get(&quot;furniture&quot;).value();</span><br/><span class="hl-4">    } </span><span class="hl-3">else</span><span class="hl-4"> {</span><br/><span class="hl-4">      </span><span class="hl-1">const</span><span class="hl-4"> </span><span class="hl-7">entrada</span><span class="hl-4">: </span><span class="hl-5">SchemaType</span><span class="hl-4"> = {</span><br/><span class="hl-4">        </span><span class="hl-2">inventory:</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">trans:</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">transactions</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">clients:</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">clients</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">providers:</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">providers</span><span class="hl-4">,</span><br/><span class="hl-4">        </span><span class="hl-2">furniture:</span><span class="hl-4"> </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">catalogue</span><span class="hl-4">,</span><br/><span class="hl-4">      };</span><br/><span class="hl-4">  </span><br/><span class="hl-4">      </span><span class="hl-1">this</span><span class="hl-4">.</span><span class="hl-2">database</span><span class="hl-4">.</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-8">&quot;inventory&quot;</span><span class="hl-4">, </span><span class="hl-2">entrada</span><span class="hl-4">.</span><span class="hl-2">inventory</span><span class="hl-4">)</span><br/><span class="hl-4">      .</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-8">&quot;trans&quot;</span><span class="hl-4">, </span><span class="hl-2">entrada</span><span class="hl-4">.</span><span class="hl-2">trans</span><span class="hl-4">)</span><br/><span class="hl-4">      .</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-8">&quot;clients&quot;</span><span class="hl-4">, </span><span class="hl-2">entrada</span><span class="hl-4">.</span><span class="hl-2">clients</span><span class="hl-4">)</span><br/><span class="hl-4">      .</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-8">&quot;providers&quot;</span><span class="hl-4">, </span><span class="hl-2">entrada</span><span class="hl-4">.</span><span class="hl-2">providers</span><span class="hl-4">)</span><br/><span class="hl-4">      .</span><span class="hl-6">set</span><span class="hl-4">(</span><span class="hl-8">&quot;catalogue&quot;</span><span class="hl-4">, </span><span class="hl-2">entrada</span><span class="hl-4">.</span><span class="hl-2">furniture</span><span class="hl-4">).</span><span class="hl-6">write</span><span class="hl-4">();</span><br/><span class="hl-4">    }</span><br/><span class="hl-4">  }</span>
</code><button>Copy</button></pre>
<p>Lo que se hace es una clase que maneje la base de datos, en el constructor de esta <strong>contemplamos la opción de que la base de datos contenga algo</strong>, cogiendo los datos de esta y haciendo que nuestro objeto tenga los valores guardados en la misma, <strong>o que esté vacía inicializando entonces la misma</strong>, y creando el fichero JSON con su respectiva estructura.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:problemas" class="tsd-anchor"></a><h2><a href="#md:problemas">Problemas</a></h2><p><strong>Hemos tenido varios problemas debido al desconocimiento previo de lowdb:</strong></p>
<ul>
<li><p><strong>lowdb:</strong> Al intentar crear tan solo un json que almacene todos los datos, nos dan errores las funciones de otras clases a las que no extiende nuestra clase JsonStock. Por ejemplo cunado intentamos convocar el método addProduct de la clase stock, en el cual se utiliza <strong>getKey() de la clase Furniture</strong> para saber si hay que añadir el mueble al listado o no, nos da un error ya que <strong>getKey() no pertenece a JsonStock</strong>, dandonos cuenta de que <strong>para cada clase contenedora debemos crear un json.</strong></p>
</li>
<li><p><strong>stock:</strong> Debido a no tener en cuenta la base de datos a la hora de su implementación, para el correcto funcionamiento de todo el código tendríamos que hacer cambios muy bruscos sobre esta clase, creemos que una de las soluciones podría ser pasarle a su constructor tres objetos que implementan 3 bases de datos, la de los muebles, la de los clientes y la de los proveedores.</p>
</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:referencias" class="tsd-anchor"></a><h2><a href="#md:referencias">Referencias</a></h2><p><a href="#md:https://www.npmjs.com/package/inquirer">Inquirer</a>
<a href="#md:https://www.npmjs.com/package/lowdb">Lowdb</a>
<a href="#md:https://github.com/marketplace/actions/sonarcloud-scan">SonarCloud</a></p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:anexos" class="tsd-anchor"></a><h2><a href="#md:anexos">Anexos</a></h2><p><a href="#md:https://learning-oreilly-com.accedys2.bbtk.ull.es/library/view/essential-typescript-from/9781484249796/html/481342_1_En_1_Chapter.xhtml">Essential TypeScript</a></p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-7--modelo-de-datos-de-un-sistema-de-información-que-permite-gestionar-una-tienda-de-muebles"><span>PRÁCTICA 7 : <wbr/>Modelo de datos de un sistema de información que permite gestionar una tienda de muebles</span></a><ul><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:resumen"><span>Resumen</span></a></li><li><a href="#md:apartados"><span>Apartados</span></a></li><li><ul><li><a href="#md:planteamiento-del-trabajo"><span>Planteamiento del trabajo</span></a></li><li><a href="#md:la-herramienta-liveshare"><span>La herramienta <wbr/>Live<wbr/>Share</span></a></li><li><a href="#md:github-actions-y-flujo-de-trabajo-continuo"><span>Github <wbr/>Actions y <wbr/>Flujo de <wbr/>Trabajo <wbr/>Continuo</span></a></li><li><a href="#md:clase-furniture"><span>Clase <wbr/>Furniture</span></a></li><li><a href="#md:clase-stock"><span>Clase <wbr/>Stock</span></a></li><li><a href="#md:inquirer"><span>Inquirer</span></a></li><li><a href="#md:lowdb"><span>Lowdb</span></a></li></ul></li><li><a href="#md:problemas"><span>Problemas</span></a></li><li><a href="#md:referencias"><span>Referencias</span></a></li><li><a href="#md:anexos"><span>Anexos</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p07-dsikea</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>